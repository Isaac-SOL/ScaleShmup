[gd_scene load_steps=60 format=3 uid="uid://bnvbcqc3v1wm7"]

[ext_resource type="PackedScene" uid="uid://c71bepd0cdivk" path="res://objects/player.tscn" id="1_3qqml"]
[ext_resource type="Script" path="res://scripts/main.gd" id="1_vyreg"]
[ext_resource type="Material" uid="uid://dk85d0p3sijsr" path="res://assets/shaders/shader_material_background.tres" id="2_evyai"]
[ext_resource type="Script" path="res://scripts/shaker_2d.gd" id="2_gfya1"]
[ext_resource type="Script" path="res://scripts/enemy_spawner.gd" id="3_4mhxf"]
[ext_resource type="PackedScene" uid="uid://5glcloy21yt" path="res://objects/elements/atom_1_real.tscn" id="4_4ge4g"]
[ext_resource type="PackedScene" uid="uid://bs6fvvtv7qoal" path="res://objects/elements/atom_2.tscn" id="4_jaagb"]
[ext_resource type="PackedScene" uid="uid://bp8nk7i8awjel" path="res://objects/elements/atom_3.tscn" id="5_dyv2q"]
[ext_resource type="PackedScene" uid="uid://41iw3r017qm6" path="res://scenes/menus/pause_menu.tscn" id="5_rev7c"]
[ext_resource type="PackedScene" uid="uid://gpfmxd2mfrkn" path="res://objects/elements/molecule_1.tscn" id="6_0r7if"]
[ext_resource type="PackedScene" uid="uid://d4hs57jskg0wy" path="res://objects/elements/molecule_2.tscn" id="7_lu0qn"]
[ext_resource type="Theme" uid="uid://dtqnw4yhbe0kk" path="res://assets/fonts/second_title_them.tres" id="7_skxey"]
[ext_resource type="Theme" uid="uid://cbnl37hp5d4kk" path="res://assets/fonts/button_smaller.tres" id="8_0hcfq"]
[ext_resource type="PackedScene" uid="uid://cfi1a2grotf78" path="res://objects/elements/molecule_3.tscn" id="8_0ippw"]
[ext_resource type="StyleBox" uid="uid://cln15kpjcsiss" path="res://imports/style_box_normal.tres" id="9_00ovv"]
[ext_resource type="PackedScene" uid="uid://bjm3xkpcjhscq" path="res://objects/elements/molecule_4.tscn" id="9_7yamx"]
[ext_resource type="PackedScene" uid="uid://q441khku8e4n" path="res://objects/elements/molecule_5.tscn" id="10_170lc"]
[ext_resource type="StyleBox" uid="uid://ddmyelf7ggrso" path="res://imports/style_box_hover.tres" id="10_jty1g"]
[ext_resource type="PackedScene" uid="uid://cyjlm451otxoi" path="res://objects/elements/molecule_6.tscn" id="11_6hf33"]
[ext_resource type="StyleBox" uid="uid://b3p1lms34esoy" path="res://imports/style_box_click.tres" id="11_ic8d2"]
[ext_resource type="PackedScene" uid="uid://cl0m6gm6l8jxk" path="res://objects/elements/molecule_7.tscn" id="12_ivwwh"]
[ext_resource type="PackedScene" uid="uid://dpyloqnlh7sqr" path="res://objects/elements/molecule_8.tscn" id="13_tyumn"]
[ext_resource type="PackedScene" uid="uid://tib2bdwk55d6" path="res://objects/cells/cell_2.tscn" id="15_cf78x"]
[ext_resource type="PackedScene" uid="uid://ccfbvyst2y517" path="res://objects/cells/cell_3.tscn" id="16_k0rki"]
[ext_resource type="PackedScene" uid="uid://crpvbkcslfnbg" path="res://objects/cells/cell_1_true.tscn" id="17_33twd"]
[ext_resource type="PackedScene" uid="uid://cj76ecev5r8n8" path="res://objects/cells/cell_4.tscn" id="17_hiiu3"]
[ext_resource type="PackedScene" uid="uid://cfw32dsbkwx4s" path="res://objects/cells/cell_5.tscn" id="18_yv12n"]
[ext_resource type="PackedScene" uid="uid://d3j2pxpaq8m3o" path="res://objects/cells/cell_6.tscn" id="19_l6nx0"]
[ext_resource type="PackedScene" uid="uid://d2csh2xlyvl1p" path="res://objects/cells/cell_7.tscn" id="20_kyeo1"]
[ext_resource type="PackedScene" uid="uid://xyefcntl01ys" path="res://objects/cells/cell_8.tscn" id="21_6vje1"]
[ext_resource type="PackedScene" uid="uid://duvru0vnbfl8l" path="res://objects/cells/cell_9.tscn" id="22_85rhn"]
[ext_resource type="PackedScene" uid="uid://l2cuqn55hobe" path="res://objects/cells/cell_10.tscn" id="23_110pa"]
[ext_resource type="PackedScene" uid="uid://dwqnrvlniixjj" path="res://objects/cells/cell_11.tscn" id="24_lrwc0"]
[ext_resource type="PackedScene" uid="uid://btx4vmnuhkadk" path="res://objects/animals/human_1.tscn" id="25_d1f3q"]
[ext_resource type="PackedScene" uid="uid://bs6px4714q04x" path="res://objects/animals/human_2.tscn" id="26_6q63m"]
[ext_resource type="PackedScene" uid="uid://c2rv2i4um7l80" path="res://objects/animals/pinpin_1.tscn" id="27_y577c"]
[ext_resource type="PackedScene" uid="uid://mqa1crc6dmom" path="res://objects/elements/molecule_9.tscn" id="29_twjg8"]
[ext_resource type="PackedScene" uid="uid://c5rs78vb5up1u" path="res://objects/animals/saumon_1.tscn" id="30_3i33a"]
[ext_resource type="PackedScene" uid="uid://86qtcth3i5lm" path="res://objects/animals/human_4.tscn" id="31_3qrwx"]
[ext_resource type="PackedScene" uid="uid://bvrhraiw1sqn5" path="res://objects/animals/human_5.tscn" id="32_is5d3"]
[ext_resource type="PackedScene" uid="uid://cxex1s1m0r7ml" path="res://objects/animals/human_3.tscn" id="32_tvour"]
[ext_resource type="PackedScene" uid="uid://b3lc8rh2av8tg" path="res://objects/animals/human_6.tscn" id="33_iby7y"]
[ext_resource type="PackedScene" uid="uid://bvsoknqb3kby5" path="res://objects/structures/batiment_1.tscn" id="34_enks2"]
[ext_resource type="PackedScene" uid="uid://drxcuaatqngdl" path="res://objects/structures/batiment_2.tscn" id="35_tcq38"]
[ext_resource type="PackedScene" uid="uid://bw7x4ovwd0gc2" path="res://objects/structures/batiment_3.tscn" id="36_86o4y"]
[ext_resource type="PackedScene" uid="uid://csy4durf3ssu2" path="res://objects/structures/montagne_1.tscn" id="37_ibako"]
[ext_resource type="PackedScene" uid="uid://cxgs4aoyn2aue" path="res://objects/structures/volcan_1.tscn" id="38_ixve3"]
[ext_resource type="PackedScene" uid="uid://c5qveao6r23yv" path="res://objects/space/planete_1.tscn" id="39_vsdmy"]
[ext_resource type="PackedScene" uid="uid://dtl7dqdgqo7dh" path="res://objects/space/planete_2.tscn" id="40_bs7jt"]
[ext_resource type="PackedScene" uid="uid://hmj5hri2jvfa" path="res://objects/space/planete_3.tscn" id="41_q3wkh"]
[ext_resource type="PackedScene" uid="uid://du4askubide1k" path="res://objects/space/planete_4.tscn" id="42_ojy14"]
[ext_resource type="PackedScene" uid="uid://dlb6rvwovxbx3" path="res://objects/space/planete_5.tscn" id="43_coca7"]
[ext_resource type="PackedScene" uid="uid://c5vtoyxt3yx53" path="res://objects/space/planete_6.tscn" id="44_oauir"]
[ext_resource type="PackedScene" uid="uid://cjjtxlrtymbh8" path="res://objects/space/planete_7.tscn" id="45_7j36w"]
[ext_resource type="PackedScene" uid="uid://bulpixfoca577" path="res://objects/space/planete_8.tscn" id="46_3nnm2"]
[ext_resource type="PackedScene" uid="uid://vp2coe7of34" path="res://objects/space/planete_9.tscn" id="47_vtadc"]

[sub_resource type="GDScript" id="GDScript_1mht6"]
script/source = "extends Camera2D

var target_zoom: Vector2 = Vector2.ONE

func _process(delta):
	zoom = Util.decayv2(zoom, target_zoom, delta)

func set_target_zoom(target: Vector2):
	target_zoom = target
"

[sub_resource type="Curve2D" id="Curve2D_aw4pu"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 432, -300, 0, 0, 0, 0, 427, 327, 0, 0, 0, 0, -490, 307, 0, 0, 0, 0, -480, -301, 0, 0, 0, 0, 431, -299)
}
point_count = 5

[sub_resource type="Theme" id="Theme_rx576"]
default_font_size = 75

[node name="Main" type="Node2D" groups=["MainGroup"]]
texture_filter = 1
script = ExtResource("1_vyreg")

[node name="Shaker2D" type="Node2D" parent="." node_paths=PackedStringArray("target_node")]
script = ExtResource("2_gfya1")
target_node = NodePath("../Player")

[node name="Camera2D" type="Camera2D" parent="Shaker2D"]
unique_name_in_owner = true
script = SubResource("GDScript_1mht6")

[node name="ShaderRect" type="ColorRect" parent="Shaker2D/Camera2D"]
unique_name_in_owner = true
material = ExtResource("2_evyai")
custom_minimum_size = Vector2(1000, 1000)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -500.0
offset_top = -500.0
offset_right = 500.0
offset_bottom = 500.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(500, 500)

[node name="Projectiles" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Enemies" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Labels" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="EnemySpawner" type="Node2D" parent="."]
script = ExtResource("3_4mhxf")
enemies = Array[PackedScene]([ExtResource("4_4ge4g"), ExtResource("4_jaagb"), ExtResource("5_dyv2q"), ExtResource("6_0r7if"), ExtResource("7_lu0qn"), ExtResource("8_0ippw"), ExtResource("9_7yamx"), ExtResource("10_170lc"), ExtResource("11_6hf33"), ExtResource("12_ivwwh"), ExtResource("13_tyumn"), ExtResource("29_twjg8"), ExtResource("17_33twd"), ExtResource("15_cf78x"), ExtResource("16_k0rki"), ExtResource("17_hiiu3"), ExtResource("18_yv12n"), ExtResource("19_l6nx0"), ExtResource("20_kyeo1"), ExtResource("21_6vje1"), ExtResource("22_85rhn"), ExtResource("23_110pa"), ExtResource("24_lrwc0"), ExtResource("27_y577c"), ExtResource("30_3i33a"), ExtResource("25_d1f3q"), ExtResource("26_6q63m"), ExtResource("32_tvour"), ExtResource("31_3qrwx"), ExtResource("32_is5d3"), ExtResource("33_iby7y"), ExtResource("34_enks2"), ExtResource("35_tcq38"), ExtResource("36_86o4y"), ExtResource("37_ibako"), ExtResource("38_ixve3"), ExtResource("39_vsdmy"), ExtResource("40_bs7jt"), ExtResource("41_q3wkh"), ExtResource("42_ojy14"), ExtResource("43_coca7"), ExtResource("44_oauir"), ExtResource("45_7j36w"), ExtResource("46_3nnm2"), ExtResource("47_vtadc")])
weights = Array[float]([400.0, 400.0, 40.0, 43.8, 43.8, 43.8, 37.5, 37.5, 25.0, 25.0, 25.0, 2.5, 9.09, 9.09, 9.09, 9.09, 9.09, 9.09, 9.09, 9.09, 9.09, 1.0, 9.09, 6.0, 6.0, 2.5, 0.2, 2.5, 2.5, 2.5, 2.5, 1.0, 1.0, 1.0, 1.0, 1.0, 0.111, 0.111, 0.111, 0.111, 0.111, 0.01, 0.111, 0.111, 0.111])

[node name="Timer" type="Timer" parent="EnemySpawner"]
autostart = true

[node name="SpawnerPath" type="Path2D" parent="EnemySpawner"]
unique_name_in_owner = true
curve = SubResource("Curve2D_aw4pu")

[node name="SpawnerFollow" type="PathFollow2D" parent="EnemySpawner/SpawnerPath"]
unique_name_in_owner = true
position = Vector2(432, -300)
rotation = 1.57877

[node name="Player" parent="." instance=ExtResource("1_3qqml")]
unique_name_in_owner = true

[node name="UI" type="CanvasLayer" parent="."]

[node name="SizeLabel" type="Label" parent="UI"]
unique_name_in_owner = true
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -100.0
offset_right = 200.0
grow_vertical = 0
text = "1 atom!"
vertical_alignment = 2

[node name="GameOverLayer" type="CanvasLayer" parent="."]
unique_name_in_owner = true
process_mode = 2
visible = false

[node name="GameOver" type="Control" parent="GameOverLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ColorRect" type="ColorRect" parent="GameOverLayer/GameOver"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0941176, 0.254902, 0.254902, 0.678431)

[node name="MarginContainer" type="MarginContainer" parent="GameOverLayer/GameOver"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = SubResource("Theme_rx576")
theme_override_constants/margin_top = 20

[node name="VBoxContainer2" type="VBoxContainer" parent="GameOverLayer/GameOver/MarginContainer"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="GameOverLayer/GameOver/MarginContainer/VBoxContainer2"]
layout_mode = 2
size_flags_vertical = 0
alignment = 1

[node name="Label" type="Label" parent="GameOverLayer/GameOver/MarginContainer/VBoxContainer2/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4
theme = ExtResource("7_skxey")
theme_override_colors/font_color = Color(0.329412, 0.584314, 0.470588, 1)
theme_override_font_sizes/font_size = 72
text = "Game Over!"

[node name="VBoxContainer" type="VBoxContainer" parent="GameOverLayer/GameOver/MarginContainer"]
custom_minimum_size = Vector2(200, 0)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_constants/separation = 20

[node name="RestartButton" type="Button" parent="GameOverLayer/GameOver/MarginContainer/VBoxContainer"]
layout_mode = 2
theme = ExtResource("8_0hcfq")
theme_override_colors/font_color = Color(0.619608, 0.937255, 0.768627, 1)
theme_override_styles/normal = ExtResource("9_00ovv")
theme_override_styles/hover = ExtResource("10_jty1g")
theme_override_styles/pressed = ExtResource("11_ic8d2")
text = "Restart"

[node name="PauseLayer" type="CanvasLayer" parent="."]

[node name="PauseMenu" parent="PauseLayer" instance=ExtResource("5_rev7c")]
unique_name_in_owner = true
visible = false

[connection signal="timeout" from="EnemySpawner/Timer" to="EnemySpawner" method="_on_timer_timeout"]
[connection signal="killed" from="Player" to="." method="_on_player_killed"]
[connection signal="pressed" from="GameOverLayer/GameOver/MarginContainer/VBoxContainer/RestartButton" to="." method="_on_restart_button_pressed"]
